<% layout('layouts/boilerplate.ejs') %>

<!-- bootstrap -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

<body>
    <form  action="/listings/<%= user.id %>?_method=PUT" method="post" style="padding: 20px; width: 700px; margin: auto; " class="needs-validation" novalidate enctype="multipart/form-data">
      <h3 style="text-align: center;">EDIT YOUR POST</h3>
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label"  >Title</label>
          <input type="title" value="<%= user.title %>" name="listing[title]" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Description</label><br>
          <textarea name="listing[description]" id="exampleInputPassword1" cols="85" rows="3" style="padding: 10px;"><%= user.description %></textarea>
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Image URL</label>
          <input type="file" value="<%= user.image.url %>" name="listing[image]" class="form-control" id="exampleInputPassword1">
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Price</label>
          <input type="text" value="<%= user.price %>" name="listing[price]" class="form-control" id="exampleInputPassword1" required>
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Location</label>
          <input type="text" value="<%= user.location %>" name="listing[location]" class="form-control" id="exampleInputPassword1"  required>
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Country</label>
          <input type="text" value="<%= user.country %>" name="listing[country]" class="form-control" id="exampleInputPassword1" required>
          <div class="invalid-feedback">Cannot be empty.</div>
        </div>
          <div>
            <button type="submit" class="btn btn-primary" style=" font-size: 1em; background-color: #FF385C; border: none; margin-top: 20px;">Update</button>
          </div>
      </form>
</body>